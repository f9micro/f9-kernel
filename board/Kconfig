# Copyright (c) 2013 The F9 Microkernel Project. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

menu "Board"

choice
	prompt "Target Board"
	default BOARD_STM32F4DISCOVERY
	help
	  Select the target board for F9 Microkernel.

config BOARD_STM32F4DISCOVERY
	bool "STM32F4 Discovery"
	select PLATFORM_STM32F4
	help
	  STM32F4 Discovery board with STM32F407VGT6 MCU.

config BOARD_STM32F429DISCOVERY
	bool "STM32F429 Discovery"
	select PLATFORM_STM32F429
	help
	  STM32F429 Discovery board with STM32F429ZIT6 MCU and LCD.

config BOARD_NETDUINOPLUS2
	bool "Netduino Plus 2"
	select PLATFORM_STM32F4
	help
	  Netduino Plus 2 board with STM32F405RGT6 MCU.
	  This board is supported by upstream QEMU for emulation.

endchoice

config QEMU
	bool "QEMU emulation mode"
	default y if BOARD_NETDUINOPLUS2
	help
	  Enable workarounds for QEMU emulation limitations:
	  - Use synchronous UART output (QEMU TXE interrupt unreliable)
	  - Place bitmaps in regular SRAM (QEMU lacks CCM RAM emulation)

	  Enable this when running under QEMU. Disable for real hardware
	  to get better performance.

endmenu

# Platform symbols (selected by board choice)
config PLATFORM_STM32F4
	bool

config PLATFORM_STM32F429
	bool
